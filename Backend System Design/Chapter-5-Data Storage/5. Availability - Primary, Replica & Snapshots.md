# Availability - Primary, Replica & Snapshots

![](./attachments/Pasted%20image%2020260216175226.png)
- Primary replica architecture is where all writes go to a single primary server, and replicas pull from that primary to handle reads. The main advantage is improved performance for read-heavy applications, since the primary database handles all writes without being slowed down by reads, and replicas handle the read operations. If the primary fails, a replica can take over.
- **Main consistency concern**: The replicas are not always guaranteed to be consistent with the primary. If the primary goes down in the middle of operation, the replicas will be almost consistent but not fully consistent, meaning there is still a risk of data loss. The latency between writes to the primary and updates to replicas creates this consistency gap.

![](./attachments/Pasted%20image%2020260216175612.png)
- Primary-primary architecture is where all servers can both read and write, with data synchronized between them. The main complexity is handling conflict resolution between servers - determining how to negotiate and reconcile differences when multiple primaries are writing simultaneously. This often requires an intermediary service to rectify the data before posting to full replicas.

![](./attachments/Pasted%20image%2020260216175651.png)
## Strategies:
- Transaction: Highly consistent system but less availability (ping to primary db that write has been done)
	- In a transactional replication strategy, a write or update is not considered complete until all copies have the same data and all replicas have confirmed the write. This creates a highly consistent system. The trade-off is reduced performance and availability, as the system must wait for every database to acknowledge the write before responding, making it slower.
- Snapshot: good resiliency, cheaper than Transaction way to backup.
	- Snapshotting provides several advantages: it's cheaper because it's not write-heavy (only occurring at periodic intervals), it provides better resiliency by preventing data corruption from spreading, and it guarantees a rollback point to the last known good state. Snapshots can also be taken at any desired frequency and are easier to distribute around the world since there's no time pressure.
- Merge: 